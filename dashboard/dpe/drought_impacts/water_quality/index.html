<!-- section: dpe -->

<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" dir="ltr"><!--<![endif]-->
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    
    <meta name="robots" content="noindex" />
    

    <title>Impacts of drought on water quality</title>
    
    <link rel="shortcut icon" href="/mariusdroughtproject.org/favicon.ico">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn"t work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="/mariusdroughtproject.org/assets/css/vendor/bootstrap/bootstrap.min.css">
    <!--<link rel="stylesheet" href="/mariusdroughtproject.org/assets/css/vendor/bootstrap-4.0.0-alpha.6-dist/bootstrap.min.css">-->
    <link rel="stylesheet" href="/mariusdroughtproject.org/assets/css/main.css?bust=1496737245">

    
      <!-- css for SECTION (layout): dpe -->
      <link rel="stylesheet" href="/mariusdroughtproject.org/assets/css/dpe.css?bust=1496737245" media="screen">
    

    

    

    
    <!-- layout.interactive -->
    <link rel="stylesheet" href="/mariusdroughtproject.org/assets/css/vendor/nv.d3.css">
    <script src="/mariusdroughtproject.org/assets/js/vendor/d3.v3.js"></script>
    <script src="/mariusdroughtproject.org/assets/js/vendor/nv.d3.js"></script>
    

    <script src="/mariusdroughtproject.org/assets/js/vendor/jquery-3.1.1.min.js"></script>
    <script src="/mariusdroughtproject.org/assets/js/vendor/bootstrap/bootstrap.min.js"></script>
    <!--<script src="/mariusdroughtproject.org/assets/js/vendor/bootstrap-4.0.0-alpha.6-dist/bootstrap.min.js"></script>-->

</head>

<body class="dpe">
<!--[if lt IE 8]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
<![endif]-->

  <header>
	<div class="container-fluid">
		<div class="row">

			<div class="col-md-3">
				<a href=""><img src="/mariusdroughtproject.org/assets/images/logos/marius.png" alt="MaRIUS project home"></a>
			</div>

			<div class="col-md-9">
				<!--  -->
				<!-- MaRIUS - Droughts, People and the Environment Dashboard -->
			</div>

		</div>
	</div>
</header>


  <div class="container">

    <div class="row">

      <!-- left column -->
      <div id="nav" class="col-md-3">

        <ul class="site-nav">
          <li><a href="/mariusdroughtproject.org/about_marius/" alt="home">MaRIUS Project</a></li>
        </ul>

        <hr>

        <!-- nav for section: dpe -->
        <ul class="site-nav">

    
    <li>
        <a  href="/mariusdroughtproject.org/dashboard/dpe/what_are_droughts/">
        What are droughts?
        
        </a>

        

    </li>
    
    <li>
        <a  href="/mariusdroughtproject.org/dashboard/dpe/drought_events_past_future/">
        Droughts - past and future
        
        </a>

        

    </li>
    
    <li>
        <a class="active" href="/mariusdroughtproject.org/dashboard/dpe/drought_impacts/">
        Impacts of drought
        &darr;
        </a>

                                                                                                                         
        <ul>
            
            <li >
                <a href="/mariusdroughtproject.org/dashboard/dpe/drought_impacts/river_flow/">on river flow</a>

                
                <ul>     
                    
                </ul>
                

            </li>
            
            <li class="active">
                <a href="/mariusdroughtproject.org/dashboard/dpe/drought_impacts/water_quality/">on water quality</a>

                
                <ul>     
                    
                </ul>
                

            </li>
            
            <li >
                <a href="/mariusdroughtproject.org/dashboard/dpe/drought_impacts/ecology/">on ecology</a>

                
                <ul>     
                    
                </ul>
                

            </li>
            
            <li >
                <a href="/mariusdroughtproject.org/dashboard/dpe/drought_impacts/farming/">on farming</a>

                
                <ul>     
                    
                </ul>
                

            </li>
            
            <li >
                <a href="/mariusdroughtproject.org/dashboard/dpe/drought_impacts/economy/">on the economy</a>

                
                <ul>     
                    
                </ul>
                

            </li>
            
        </ul>
        

    </li>
    
    <li>
        <a  href="/mariusdroughtproject.org/dashboard/dpe/drought_management/">
        What to do about droughts?
        &darr;
        </a>

        

    </li>
    
    <li>
        <a  href="/mariusdroughtproject.org/dashboard/dpe/future_challenges/">
        Future challenges
        
        </a>

        

    </li>
         
</ul>

        <hr>

        <ul class="site-nav">
          <li><a href="/mariusdroughtproject.org/dashboard/"><b>Dashboards</b></a></li>
          <li><a href="/mariusdroughtproject.org/dashboard/dpe/what_are_droughts/">Droughts, People and the Environment</a></li>
          <li><a href="/mariusdroughtproject.org/dashboard/science/">Science</a></li>
        </ul>

      </div><!-- /left column -->

      
      <!-- right column -->
      <div class="col-md-9">
      <main>

        <div class="section-ident"></div>

        <!--<div id="content-header" class="header section-ident">-->
        <div class="header clearfix">
          <span class="section-title">Drought Impacts</span>
          <h1>Impacts of drought on water quality</h1>
        </div>

        <!--<div id="content">-->
        <div class="content">

          <p>Droughts can affect <strong>water quality</strong> in rivers and reservoirs due to reduced dilution of discharges and runoff, enhanced <abbr title="relating to or denoting the cycle in which chemical elements and compounds are transferred between living systems and the environment.">biogeochemical</abbr> processes and longer residence times in rivers. Moreover, at the end of a drought the sudden wetting of the soils releases significant fluxes of sediments and chemicals that can disrupt public water supplies, trigger algal blooms and damage ecosystems.</p>

<p>In <abbr title="Managing the Risks, Impacts and Uncertainties of drought and water Scarcity">MaRIUS</abbr> water quality models were extended and developed for different spatial scales. The national scale data and modelling analysis of the impact of drought on water quality in UK rivers provides us with a better understanding of how water quality changes during droughts across multiple catchments.  This is essential information for many different stakeholders so that we can anticipate and, if possible, mitigate the impact of future drought and maintain resilience of freshwater systems to these extreme events.</p>

<p>The response of water chemistry in the lower Thames catchment to different severity and duration droughts, based on the observed historical drought of 1975-76 and three synthetic events, are shown below. The time series data highlights how changes in precipitation, temperature, potential evapotranspiration and flow can affect suspended sediment concentration, total phosphorus concentration, and nitrate concentration.</p>

<div id="interactionContainer">
        <select name="droughtFiles" id="droughtFiles">
            <option>Select</option>
            <option value="/mariusdroughtproject.org/assets/data/drought_historic_19750101-19771231_daily.csv">Historical drought (1976)</option>
            <option value="/mariusdroughtproject.org/assets/data/drought_real3_20020101-20041231_daily.csv">Synthetic drought (long and mild)</option>
            <option value="/mariusdroughtproject.org/assets/data/drought_real26_19940101-19961231_daily.csv">Synthetic drought (short and severe)</option>
            <option value="/mariusdroughtproject.org/assets/data/drought_real13_19950101-19971231_daily.csv">Synthetic drought (long and severe)</option>
        </select>
        <hr />
        <style>
            #interactionContainer
            {
                margin:0 auto;
                width:100%;
            }
            #chartContainer > #loader
            {
                display:none;
            }
        </style>
        <div id="chartContainer">
            <img src="/mariusdroughtproject.org/assets/images/loading.gif" alt="" id="loader" />
            <div id="chart_div_1"></div>
            <div id="chart_div_2"></div>
            <div id="chart_div_3"></div>
            <div id="chart_div_4"></div>
            <div id="chart_div_5"></div>
            <div id="chart_div_6"></div>
            <div id="chart_div_7"></div>
        </div>
</div>
<script src="/mariusdroughtproject.org/assets/js/jquery.csv.js"></script>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script>
google.charts.load('current', {packages: ['corechart', 'line']});
(function()
{
    $('select#droughtFiles').change(function()
    {
        var file = $(this).val();
        if(file !== 'Select')
        {
            $('#chartContainer > #loader').show();
            $('div#chartContainer > div').empty();
            google.charts.setOnLoadCallback(createLineChart(file));
        }
        else
        {
            $('div#chartContainer > div').empty();
        }
    });
})();

function createLineChart(file)
{
    var fullArr = getFileData(file);
    if(fullArr.length > 0)
    {
        for (var i = 1; i < 8; i++)
        {
            linesFromMeasure(fullArr, i);
        };
    }
    else
    {
        console.log('No data');
    }
}

function getFileData(file)
{
    var resultArr = [];
    $.ajax(
    {
        url: file,
        type: 'get',
        dataType: 'text',
        async: false,
        success: function(data)
        {
            resultArr = $.csv.toArrays(data);
        }
    });
    return resultArr;
}

function linesFromMeasure(resultArr,measure)
{
        var data = new google.visualization.DataTable();
        data.addColumn('date', 'X');
        data.addColumn('number', 'Value');
        data.addColumn({'type': 'string', 'role': 'tooltip', 'p': {'html': true}});

        var rowCount = 0;
        var lineVal = 0;
        var floatVal = 0;
        var measureTitle = '';
        var theYear = 0;
        var theMonth = 0;
        var theDay = 0;
        $.each(resultArr, function(key, value)
        {
            if(rowCount > 0)
            {
                lineVal = parseInt(value[measure]);
                var dateSplit;
                if(value[0].indexOf('/') > 0)
                {
                    dateSplit = value[0].split("/");
                    theYear = parseInt(dateSplit[2]);
                    theMonth = parseInt(dateSplit[1]);
                    theDay = parseInt(dateSplit[0]);
                }
                else
                {
                    dateSplit = value[0].split("-");
                    theYear = parseInt(dateSplit[0]);
                    theMonth = parseInt(dateSplit[1]);
                    theDay = parseInt(dateSplit[2]);
                }
                /* var tooltipText = createTooltip(value); */
                var tooltipText = '';
                if((isNumeric(theYear) == true) && (isNumeric(theMonth) == true) && (isNumeric(theDay) == true) && (isNumeric(lineVal) == true))
                {
                    tooltipText = createTooltip(resultArr, rowCount, theDay, theMonth, theYear, lineVal);
                    data.addRow([new Date(theYear,theMonth,theDay), lineVal, tooltipText]);
                }
            }
            else
            {
                measureTitle = value[measure];
                switch(measure)
                {
                    case 1 : measureTitle = 'Precipitation (mm)';
                    break;
                    case 2 : measureTitle = 'Temperature (°C)';
                    break;
                    case 3 : measureTitle = 'Potential evapotranspiration (mm)';
                    break;
                    case 4 : measureTitle = 'Flow (m³/s)';
                    break;
                    case 5 : measureTitle = 'Suspended sediment (mg/L)';
                    break;
                    case 6 : measureTitle = 'Total phosphorus (mg/L)';
                    break;
                    case 7 : measureTitle = 'Nitrate (mg/L)';
                    break;
                }
            }
            rowCount++;
        });

      var options = {
        hAxis: {
          title: 'Date'
        },
        vAxis: {
          title: measureTitle
        },
        tooltip: {isHtml: true},
        legend: 'none'
      };
      var chartName = 'chart_div_'+measure;
      var chart = [];
      $('#chartContainer > #loader').hide();
      chart[measure] = new google.visualization.LineChart(document.getElementById(chartName));
      chart[measure].draw(data, options);
}

function createTooltip(resultArr, rowCount, theDay, theMonth, theYear, lineVal)
{
    var finalStr =  '';
    var row = resultArr[rowCount];
    finalStr = '<div style="padding:1em;">';
    finalStr += '<strong>Date : </strong>'+theDay+'/'+theMonth+'/'+theYear+'<br />';
    finalStr +=  '<strong>Precipitation (mm) : </strong>'+parseFloat(row[1]).toFixed(2)+'<br />';
    finalStr +=  '<strong>Temperature (°C) : </strong>'+parseFloat(row[2]).toFixed(2)+'<br />';
    finalStr +=  '<strong>Potential evapotranspiration (mm) : </strong>'+parseFloat(row[3]).toFixed(2)+'<br />';
    finalStr +=  '<strong>Flow (m<sup>3</sup>/s) : </strong>'+parseFloat(row[4]).toFixed(2)+'<br />';
    finalStr +=  '<strong>Suspended sediment (mg/L) : </strong>'+parseFloat(row[5]).toFixed(2)+'<br />';
    finalStr +=  '<strong>Total phosphorus (mg/L) : </strong>'+parseFloat(row[6]).toFixed(2)+'<br />';
    finalStr +=  '<strong>Nitrate (mg/L) : </strong>'+parseFloat(row[7]).toFixed(2)+'</div>';
    return finalStr;
}

function isNumeric(n)
{
    return !isNaN(parseFloat(n)) && isFinite(n);
}
</script>



          

          

          
          <div id="related-links">
            <h3>Related Links</h3>
            
            <a href="/mariusdroughtproject.org/dashboard/science/drought_impacts_management/water_quality/" >Water Quality</a><br>
            
          </div>
          

        </div><!-- /content -->

      </main>
      </div><!-- /right column -->


    </div><!-- /row -->
  </div><!-- /container -->

  <footer>
	<div class="container-fluid">
		<div class="row">
			<div class="col-xs-12">

				<div class="container">
					<div class="row">
						<div class="col-xs-12">
							Supported by NERC | &copy; 2016 MaRIUS, School of Geography and the Environment, Oxford<br>
							<span class="render-time">page rendered at:  2017-06-06 08:20:48 +0000</span>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
</footer>

<script src="/mariusdroughtproject.org/assets/js/main.js?bust=1496737245"></script> <!-- app -->


 



<div class="back-to-top" title="Back to top">
    <span class="glyphicon glyphicon-chevron-up"></span>
</div>
<!--<a class="back-to-top" href="#">Back to Top</a>-->


</body>
</html>